<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aditya Enterprise - Wires & Cables</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
body {font-family:'Poppins',sans-serif;margin:0;padding:0;background:#f7f8fa;color:#333;}
header{background:#004aad;color:#fff;padding:20px;text-align:center;}
h1{margin:0;font-size:28px;letter-spacing:1px;}
.contact{background:#f1f1f1;text-align:center;padding:10px;font-size:15px;}
section{background:white;width:90%;max-width:850px;margin:25px auto;padding:20px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.1);}
h2{color:#004aad;border-left:5px solid #004aad;padding-left:10px;}
h3{margin-top:20px;}
label{display:block;margin:8px 0 4px;font-weight:600;}
input,select,button{width:100%;padding:10px;margin-bottom:12px;border:1px solid #ccc;border-radius:6px;font-size:15px;}
button{background:#004aad;color:white;border:none;cursor:pointer;font-weight:600;transition:0.3s;}
button:hover{background:#003380;}
.product-item{display:flex;gap:10px;align-items:center;margin-bottom:10px;flex-wrap:wrap;}
.product-item input,.product-item select{flex:1;}
footer{text-align:center;padding:15px;background:#004aad;color:#fff;margin-top:40px;}
@media(max-width:600px){.product-item{flex-direction:column;}}
iframe.pdf-frame{width:100%;height:80vh;border:none;margin-top:20px;}
</style>
</head>
<body>

<header>
<h1>Aditya Enterprise</h1>
<p>Wires, Cables & Electrical Solutions</p>
</header>

<div class="contact">
ðŸ“ž +91 81410 90767 | ðŸ“§ tanishq141516@gmail.com
</div>

<section id="order-section">
<h2>Place Your Order</h2>
<form id="orderForm">
<label>Customer Name:</label>
<input type="text" id="name" required>
<label>City:</label>
<input type="text" id="city" required>
<h3>Products:</h3>
<div id="productList"></div>
<button type="button" id="confirmOrder">Confirm Order</button>
</form>

<!-- PDF display -->
<iframe class="pdf-frame" id="pdfViewer"></iframe>
</section>

<footer>
Â© 2025 Aditya Enterprise | All Rights Reserved
</footer>

<script>
const { jsPDF } = window.jspdf;

// Product list
const products = [
  "1mmÂ² Copper Wire",
  "1.5mmÂ² 2 Core Wire",
  "3mm Wire",
  "4mm Submersible Cable",
  "Aluminium Cable",
  "House Wires",
  "RJ6 Wires"
];

const productList = document.getElementById("productList");

// Create product input rows
products.forEach((p, i) => {
  const div = document.createElement("div");
  div.className = "product-item";
  div.innerHTML = `
    <label style="flex:2;">${p}</label>
    <input type="number" id="qty${i}" placeholder="Quantity">
    <select id="unit${i}">
      <option value="Coils">Coils</option>
      <option value="Metres">Metres</option>
    </select>
  `;
  productList.appendChild(div);
});

// Confirm Order button click
document.getElementById("confirmOrder").addEventListener("click", () => {
  const name = document.getElementById("name").value.trim();
  const city = document.getElementById("city").value.trim();
  if (!name || !city) { alert("Enter name and city"); return; }

  let orderDetails = [];
  products.forEach((p, i) => {
    const qty = document.getElementById(`qty${i}`).value;
    const unit = document.getElementById(`unit${i}`).value;
    if (qty) orderDetails.push({ product: p, quantity: qty, unit });
  });

  if (orderDetails.length === 0) { alert("Add at least one product"); return; }

  // Generate PDF
  const doc = new jsPDF();
  doc.setFontSize(14);
  doc.text(`Order from ${name}`, 10, 20);
  doc.text(`City: ${city}`, 10, 30);
  doc.text("Products:", 10, 40);
  orderDetails.forEach((item, idx) => {
    doc.text(`${idx + 1}. ${item.product} - ${item.quantity} ${item.unit}`, 12, 50 + idx * 10);
  });
  const dateY = 50 + orderDetails.length * 10 + 10;
  doc.text(`Date: ${new Date().toLocaleString()}`, 10, dateY);

  // Add clickable WhatsApp link
  const whatsappNumber = "918141090767";
  const message = `New order from ${name}, City: ${city}`;
  const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
  const linkY = dateY + 10;
  doc.setTextColor(0, 0, 255);
  doc.textWithLink("Send on WhatsApp", 10, linkY, { url: whatsappLink });

  // Open PDF in same tab iframe
  const pdfBlob = doc.output("blob");
  const pdfUrl = URL.createObjectURL(pdfBlob);
  document.getElementById("pdfViewer").src = pdfUrl;
});
</script>

</body>
</html>
